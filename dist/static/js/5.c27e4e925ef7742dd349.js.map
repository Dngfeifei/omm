{"version":3,"sources":["webpack:///static/js/5.c27e4e925ef7742dd349.js","webpack:///./src/components/role/roleEditForm.jsx","webpack:///./src/page/system/role.jsx","webpack:///./src/page/common.jsx?cdd8*****","webpack:///./src/api/role.js","webpack:///./src/components/role/roleAuthority.jsx"],"names":["webpackJsonp","120","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_regenerator","_regenerator2","_extends","assign","target","i","length","source","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react","_react2","_antd","_role","FormItem","Form","Item","Role","_Component","_ref","_temp","_this","_ret","_this2","_len","args","Array","_key","getPrototypeOf","concat","state","rules","label","option","required","message","render","_","createElement","Input","style","width","InputNumber","loading","lock","handleFetch","params","config","type","id","item","editRole","addRole","handleOk","_ref2","mark","_callee","wrap","_context","prev","next","setState","form","validateFieldsAndScroll","val","getOwnPropertyNames","deptid","num","res","code","success","stop","_x","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","Modal","title","onOk","visible","confirmLoading","onCancel","top","marginBottom","okText","cancelText","map","index","componentWillReceiveProps","_x2","_ref3","_callee2","nextprops","mes","_context2","resetFields","console","log","setFields","name","tips","Component","RoleForm","54","_dec","_class","_reactRedux","_action","_common","_common2","_roleEditForm","_roleEditForm2","_roleAuthority","_roleAuthority2","ButtonGroup","Button","Group","connect","dispath","getRoleTree","GET_ROLE_TREE","_Common","search","pageconf","columns","dataIndex","editModalConf","roleModal","selected","roleName","abrupt","getRoleList","data","records","tabledata","pagination","total","current","deleteBack","delete","deleteRole","_ref4","_callee3","_context3","research","_x3","renderSearch","className","suffix","Icon","onClick","changeSearch","onChange","e","addonBefore","icon","addmodal","editmodal","changemodel","rendermodal","mask","cancelform","componentWillMount","_ref5","_callee4","_context4","Common","89","_tools","selectedtable","limit","offset","pageSize","page","size","pageChange","onselect","selectedKeys","selectedItems","orderdetail","addpane","setselect","func","_x4","_x5","handleTime","momentFormat","_x6","warning","_ref6","_callee5","conf","_context5","_x7","_x8","_ref7","_callee6","_context6","_x9","_x10","_ref8","_callee8","mess","param","backFunc","undefined","_context8","_ref9","_callee7","_context7","_x15","_x11","_x12","_x13","selectJudge","renderBtn","renderBottomBtn","renderTable","rowSelection","Table","bordered","locale","emptyText","dataSource","selectedRowKeys","93","setAuthority","getAuthTree","_index","_index2","http","fetchPost","fetchGet","97","TreeNode","Tree","RoleAuthority","checkedKeys","f","list","checked","push","childList","treeData","expandKeys","roleId","ids","join","onCheck","expand","checkable","expandedKeys","onExpand","checkStrictly"],"mappings":"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","file":"static/js/5.c27e4e925ef7742dd349.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _regenerator = __webpack_require__(21);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _antd = __webpack_require__(5);\n\nvar _reactRedux = __webpack_require__(11);\n\nvar _role = __webpack_require__(93);\n\nvar _tools = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormItem = _antd.Form.Item;\n\nvar Role = function (_Component) {\n\t_inherits(Role, _Component);\n\n\tfunction Role() {\n\t\tvar _ref,\n\t\t    _this2 = this;\n\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Role);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Role.__proto__ || Object.getPrototypeOf(Role)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n\t\t\trules: [{\n\t\t\t\tlabel: '角色名称',\n\t\t\t\tkey: 'name',\n\t\t\t\toption: {\n\t\t\t\t\trules: [{\n\t\t\t\t\t\trequired: true, message: '请输入角色名称!'\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\trender: function render(_) {\n\t\t\t\t\treturn _react2.default.createElement(_antd.Input, { style: { width: 200 } });\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tlabel: '排序',\n\t\t\t\tkey: 'num',\n\t\t\t\toption: { rules: [] },\n\t\t\t\trender: function render(_) {\n\t\t\t\t\treturn _react2.default.createElement(_antd.InputNumber, { style: { width: 200 } });\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tlabel: '说明',\n\t\t\t\tkey: 'tips',\n\t\t\t\toption: { rules: [] },\n\t\t\t\trender: function render(_) {\n\t\t\t\t\treturn _react2.default.createElement(_antd.Input, { style: { width: 200 } });\n\t\t\t\t}\n\t\t\t}],\n\t\t\tloading: false,\n\t\t\tlock: false\n\t\t}, _this.handleFetch = function (params) {\n\t\t\tif (_this.props.config.type == 'edit') {\n\t\t\t\tparams.id = _this.props.config.item.id;\n\t\t\t\treturn (0, _role.editRole)(params);\n\t\t\t}\n\t\t\treturn (0, _role.addRole)(params);\n\t\t}, _this.handleOk = function () {\n\t\t\tvar _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(_) {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee$(_context) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tif (_this.state.lock) {\n\t\t\t\t\t\t\t\t\t_context.next = 4;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_context.next = 3;\n\t\t\t\t\t\t\t\treturn _this.setState({ lock: true });\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_this.props.form.validateFieldsAndScroll(null, {}, function (err, val) {\n\t\t\t\t\t\t\t\t\tif (!err || !Object.getOwnPropertyNames(err).length) {\n\t\t\t\t\t\t\t\t\t\tvar params = Object.assign({}, val);\n\t\t\t\t\t\t\t\t\t\tif (!params.deptid) delete params.deptid;\n\t\t\t\t\t\t\t\t\t\tif (!params.num) delete params.num;\n\n\t\t\t\t\t\t\t\t\t\t_this.handleFetch(params).then(function (res) {\n\t\t\t\t\t\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\t\t\t\t\t\t_antd.message.success('操作成功');\n\t\t\t\t\t\t\t\t\t\t\t\t_this.props.done();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t_this.setState({ lock: false });\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t_this.setState({ lock: false });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x) {\n\t\t\t\treturn _ref2.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.render = function (_) {\n\t\t\tvar getFieldDecorator = _this.props.form.getFieldDecorator;\n\n\t\t\tvar formItemLayout = {\n\t\t\t\tlabelCol: {\n\t\t\t\t\txs: { span: 24 },\n\t\t\t\t\tsm: { span: 4 }\n\t\t\t\t},\n\t\t\t\twrapperCol: {\n\t\t\t\t\txs: { span: 24 },\n\t\t\t\t\tsm: { span: 20 }\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_antd.Modal,\n\t\t\t\t{ title: _this.props.config.title,\n\t\t\t\t\tonOk: _this.handleOk,\n\t\t\t\t\tvisible: _this.props.config.visible,\n\t\t\t\t\tconfirmLoading: _this.state.loading,\n\t\t\t\t\tonCancel: _this.props.onCancel,\n\t\t\t\t\tstyle: { top: 50, marginBottom: 100 },\n\t\t\t\t\tokText: '\\u63D0\\u4EA4',\n\t\t\t\t\tcancelText: '\\u53D6\\u6D88' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_antd.Form,\n\t\t\t\t\tnull,\n\t\t\t\t\t_this.state.rules.map(function (val, index) {\n\t\t\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t\t\tFormItem,\n\t\t\t\t\t\t\t_extends({}, formItemLayout, {\n\t\t\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\t\t\tlabel: val.label }),\n\t\t\t\t\t\t\tgetFieldDecorator(val.key, val.option)(val.render())\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t);\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\t_createClass(Role, [{\n\t\tkey: 'componentWillReceiveProps',\n\t\tvalue: function () {\n\t\t\tvar _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(nextprops) {\n\t\t\t\tvar mes;\n\t\t\t\treturn _regenerator2.default.wrap(function _callee2$(_context2) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tif (nextprops.config != this.props.config && nextprops.config.visible) {\n\t\t\t\t\t\t\t\t\tif (nextprops.config.type != 'edit') {\n\t\t\t\t\t\t\t\t\t\tthis.props.form.resetFields();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tmes = nextprops.config.item;\n\n\t\t\t\t\t\t\t\t\t\tconsole.log(mes);\n\t\t\t\t\t\t\t\t\t\tthis.props.form.setFields({\n\t\t\t\t\t\t\t\t\t\t\tname: { value: mes.name },\n\t\t\t\t\t\t\t\t\t\t\ttips: { value: mes.tips },\n\t\t\t\t\t\t\t\t\t\t\tnum: { value: mes.num }\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context2.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee2, this);\n\t\t\t}));\n\n\t\t\tfunction componentWillReceiveProps(_x2) {\n\t\t\t\treturn _ref3.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn componentWillReceiveProps;\n\t\t}()\n\t}]);\n\n\treturn Role;\n}(_react.Component);\n\nvar RoleForm = _antd.Form.create()(Role);\nexports.default = RoleForm;\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _regenerator = __webpack_require__(21);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _class;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(11);\n\nvar _antd = __webpack_require__(5);\n\nvar _role = __webpack_require__(93);\n\nvar _action = __webpack_require__(12);\n\nvar _common = __webpack_require__(89);\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _roleEditForm = __webpack_require__(120);\n\nvar _roleEditForm2 = _interopRequireDefault(_roleEditForm);\n\nvar _roleAuthority = __webpack_require__(97);\n\nvar _roleAuthority2 = _interopRequireDefault(_roleAuthority);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ButtonGroup = _antd.Button.Group;\n\nvar Role = (_dec = (0, _reactRedux.connect)(function (state) {\n\treturn {};\n}, function (dispath) {\n\treturn {\n\t\tgetRoleTree: function getRoleTree() {\n\t\t\tdispath({ type: _action.GET_ROLE_TREE });\n\t\t}\n\t};\n}), _dec(_class = function (_Common) {\n\t_inherits(Role, _Common);\n\n\tfunction Role() {\n\t\tvar _ref,\n\t\t    _this2 = this;\n\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Role);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Role.__proto__ || Object.getPrototypeOf(Role)).call.apply(_ref, [this].concat(args))), _this), _this.state = Object.assign({}, _this.state, {\n\t\t\tsearch: Object.assign({}, _this.state.pageconf),\n\t\t\tcolumns: [{\n\t\t\t\ttitle: '名称',\n\t\t\t\tdataIndex: 'name'\n\t\t\t}, {\n\t\t\t\ttitle: '排序',\n\t\t\t\tdataIndex: 'num'\n\t\t\t}, {\n\t\t\t\ttitle: '说明',\n\t\t\t\tdataIndex: 'tips'\n\t\t\t}],\n\t\t\teditModalConf: { visible: false, item: {} },\n\t\t\troleModal: { visible: false, item: {} }\n\t\t}), _this.search = function () {\n\t\t\tvar _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(_) {\n\t\t\t\tvar search;\n\t\t\t\treturn _regenerator2.default.wrap(function _callee$(_context) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_context.next = 2;\n\t\t\t\t\t\t\t\treturn _this.setState({ loading: true, selected: {} });\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tsearch = Object.assign({}, _this.state.search);\n\n\t\t\t\t\t\t\t\tif (!search.roleName) delete search.roleName;\n\t\t\t\t\t\t\t\treturn _context.abrupt('return', (0, _role.getRoleList)(search).then(function (res) {\n\t\t\t\t\t\t\t\t\tvar data = void 0;\n\t\t\t\t\t\t\t\t\tdata = res.data.records.map(function (val) {\n\t\t\t\t\t\t\t\t\t\treturn Object.assign({}, val, { key: val.id });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\t\t\t\ttabledata: data,\n\t\t\t\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\t\t\t\tpagination: Object.assign({}, _this.state.pagination, {\n\t\t\t\t\t\t\t\t\t\t\ttotal: res.data.total,\n\t\t\t\t\t\t\t\t\t\t\tcurrent: res.data.current\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x) {\n\t\t\t\treturn _ref2.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.deleteBack = function () {\n\t\t\tvar _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(_) {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee2$(_context2) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_this.search();\n\t\t\t\t\t\t\t\t_this.props.getRoleTree();\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context2.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee2, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x2) {\n\t\t\t\treturn _ref3.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.delete = function (_) {\n\t\t\t_this.handleOk(_role.deleteRole, 'roleId', '删除', 'deleteBack');\n\t\t}, _this.done = function () {\n\t\t\tvar _ref4 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(key) {\n\t\t\t\tvar type, config;\n\t\t\t\treturn _regenerator2.default.wrap(function _callee3$(_context3) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context3.prev = _context3.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\ttype = _this.state.editModalConf.type;\n\t\t\t\t\t\t\t\tconfig = {};\n\n\t\t\t\t\t\t\t\tconfig[key] = { visible: false, item: {} };\n\t\t\t\t\t\t\t\t_this.setState(config);\n\n\t\t\t\t\t\t\t\tif (!(type == 'add' && key == 'editModalConf')) {\n\t\t\t\t\t\t\t\t\t_context3.next = 8;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_this.research();\n\t\t\t\t\t\t\t\t_context3.next = 11;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t_context3.next = 10;\n\t\t\t\t\t\t\t\treturn _this.setState({ selected: {} });\n\n\t\t\t\t\t\t\tcase 10:\n\t\t\t\t\t\t\t\t_this.search();\n\n\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context3.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee3, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x3) {\n\t\t\t\treturn _ref4.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.renderSearch = function (_) {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'mgrSearchBar' },\n\t\t\t\t_react2.default.createElement(_antd.Input, {\n\t\t\t\t\tvalue: _this.state.search.roleName,\n\t\t\t\t\tsuffix: _this.state.search.roleName ? _react2.default.createElement(_antd.Icon, {\n\t\t\t\t\t\ttype: 'close-circle',\n\t\t\t\t\t\tonClick: function onClick(_) {\n\t\t\t\t\t\t\treturn _this.changeSearch({ roleName: '' });\n\t\t\t\t\t\t} }) : null,\n\t\t\t\t\tonChange: function onChange(e) {\n\t\t\t\t\t\treturn _this.changeSearch({ roleName: e.target.value });\n\t\t\t\t\t},\n\t\t\t\t\taddonBefore: '\\u89D2\\u8272\\u540D\\u79F0' }),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_antd.Button,\n\t\t\t\t\t{\n\t\t\t\t\t\tonClick: _this.search,\n\t\t\t\t\t\ttype: 'primary', icon: 'search' },\n\t\t\t\t\t'\\u641C\\u7D22'\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\tButtonGroup,\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_antd.Button,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tonClick: function onClick(_) {\n\t\t\t\t\t\t\t\treturn _this.addmodal('editModalConf', '添加角色');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttype: 'primary', icon: 'plus' },\n\t\t\t\t\t\t'\\u6DFB\\u52A0'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_antd.Button,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tonClick: function onClick(_) {\n\t\t\t\t\t\t\t\treturn _this.editmodal('editModalConf', '编辑角色');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttype: 'primary', icon: 'edit' },\n\t\t\t\t\t\t'\\u4FEE\\u6539'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_antd.Button,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tonClick: _this.changemodel,\n\t\t\t\t\t\t\ttype: 'primary', icon: 'close' },\n\t\t\t\t\t\t'\\u5220\\u9664'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_antd.Button,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tonClick: function onClick(_) {\n\t\t\t\t\t\t\t\treturn _this.editmodal('roleModal', '权限配置');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttype: 'primary', icon: 'usb' },\n\t\t\t\t\t\t'\\u6743\\u9650\\u914D\\u7F6E'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}, _this.rendermodal = function (_) {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_antd.Modal,\n\t\t\t\t\t{ title: '\\u4FE1\\u606F',\n\t\t\t\t\t\tvisible: _this.state.visible,\n\t\t\t\t\t\tonOk: _this.delete,\n\t\t\t\t\t\tmask: false,\n\t\t\t\t\t\twidth: 400,\n\t\t\t\t\t\tonCancel: _this.changemodel,\n\t\t\t\t\t\tokText: '\\u786E\\u8BA4',\n\t\t\t\t\t\tcancelText: '\\u53D6\\u6D88'\n\t\t\t\t\t},\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'p',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'\\u662F\\u5426\\u5220\\u9664\\uFF1F'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(_roleEditForm2.default, {\n\t\t\t\t\tonCancel: function onCancel(_) {\n\t\t\t\t\t\treturn _this.cancelform('editModalConf');\n\t\t\t\t\t},\n\t\t\t\t\tdone: function done(_) {\n\t\t\t\t\t\treturn _this.done('editModalConf');\n\t\t\t\t\t},\n\t\t\t\t\tconfig: _this.state.editModalConf }),\n\t\t\t\t_react2.default.createElement(_roleAuthority2.default, {\n\t\t\t\t\tonCancel: function onCancel(_) {\n\t\t\t\t\t\treturn _this.cancelform('roleModal');\n\t\t\t\t\t},\n\t\t\t\t\tdone: function done(_) {\n\t\t\t\t\t\treturn _this.done('roleModal');\n\t\t\t\t\t},\n\t\t\t\t\tconfig: _this.state.roleModal })\n\t\t\t);\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\t_createClass(Role, [{\n\t\tkey: 'componentWillMount',\n\t\tvalue: function () {\n\t\t\tvar _ref5 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee4$(_context4) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context4.prev = _context4.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tthis.search();\n\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context4.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee4, this);\n\t\t\t}));\n\n\t\t\tfunction componentWillMount() {\n\t\t\t\treturn _ref5.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn componentWillMount;\n\t\t}()\n\t}]);\n\n\treturn Role;\n}(_common2.default)) || _class);\nexports.default = Role;\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _regenerator = __webpack_require__(21);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _antd = __webpack_require__(5);\n\nvar _tools = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Common = function (_Component) {\n\t_inherits(Common, _Component);\n\n\tfunction Common() {\n\t\tvar _ref,\n\t\t    _this2 = this;\n\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Common);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Common.__proto__ || Object.getPrototypeOf(Common)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n\t\t\tcolumns: [],\n\t\t\tselectedtable: true,\n\t\t\tselected: {},\n\t\t\tloading: true,\n\t\t\ttabledata: [],\n\t\t\tvisible: false,\n\t\t\tsearch: {},\n\t\t\tpageconf: { limit: 10, offset: 0 },\n\t\t\tpagination: {\n\t\t\t\ttotal: 1,\n\t\t\t\tcurrent: 1,\n\t\t\t\tpageSize: 10,\n\t\t\t\tonChange: function onChange(page, size) {\n\t\t\t\t\treturn _this.pageChange(page, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}, _this.pageChange = function () {\n\t\t\tvar _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(page, pageSize) {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee$(_context) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_context.next = 2;\n\t\t\t\t\t\t\t\treturn _this.setState({ search: Object.assign({}, _this.state.search, { offset: (page - 1) * pageSize }) });\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_this.search();\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x, _x2) {\n\t\t\t\treturn _ref2.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.onselect = function (selectedKeys, selectedItems) {\n\t\t\t_this.setState({ selected: {\n\t\t\t\t\tselectedKeys: selectedKeys,\n\t\t\t\t\tselectedItems: selectedItems\n\t\t\t\t} });\n\t\t}, _this.orderdetail = function () {\n\t\t\tvar _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(item) {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee2$(_context2) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_context2.next = 2;\n\t\t\t\t\t\t\t\treturn _this.setState({ selected: {\n\t\t\t\t\t\t\t\t\t\tselectedKeys: [item.id],\n\t\t\t\t\t\t\t\t\t\tselectedItems: [item]\n\t\t\t\t\t\t\t\t\t} });\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_this.addpane(1);\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context2.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee2, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x3) {\n\t\t\t\treturn _ref3.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.setselect = function () {\n\t\t\tvar _ref4 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee3(item, func) {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee3$(_context3) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context3.prev = _context3.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_context3.next = 2;\n\t\t\t\t\t\t\t\treturn _this.setState({ selected: {\n\t\t\t\t\t\t\t\t\t\tselectedKeys: [item.id],\n\t\t\t\t\t\t\t\t\t\tselectedItems: [item]\n\t\t\t\t\t\t\t\t\t} });\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tfunc();\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context3.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee3, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x4, _x5) {\n\t\t\t\treturn _ref4.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.changeSearch = function (val) {\n\t\t\tvar search = Object.assign({}, _this.state.search, val, _this.state.pageconf);\n\t\t\t_this.setState({ search: search });\n\t\t}, _this.handleTime = function (search, key) {\n\t\t\tif (!search[key]) {\n\t\t\t\tdelete search[key];\n\t\t\t} else {\n\t\t\t\tsearch[key] = (0, _tools.momentFormat)(search[key]);\n\t\t\t}\n\t\t}, _this.research = function () {\n\t\t\tvar _ref5 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee4(_) {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee4$(_context4) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context4.prev = _context4.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_context4.next = 2;\n\t\t\t\t\t\t\t\treturn _this.setState({ search: Object.assign({}, _this.state.pageconf), selected: {} });\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_this.search();\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context4.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee4, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x6) {\n\t\t\t\treturn _ref5.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.changemodel = function (_) {\n\t\t\tif (_this.state.selected.selectedKeys && _this.state.selected.selectedKeys.length) {\n\t\t\t\t_this.setState({ visible: !_this.state.visible });\n\t\t\t} else {\n\t\t\t\t_antd.message.warning('请选中表格中的某一记录！');\n\t\t\t}\n\t\t}, _this.cancelform = function (key) {\n\t\t\tvar config = {};\n\t\t\tconfig[key] = Object.assign({}, _this.state[key], { visible: false, item: {} });\n\t\t\t_this.setState(config);\n\t\t}, _this.addmodal = function () {\n\t\t\tvar _ref6 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee5(key, title) {\n\t\t\t\tvar conf;\n\t\t\t\treturn _regenerator2.default.wrap(function _callee5$(_context5) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context5.prev = _context5.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tconf = {};\n\n\t\t\t\t\t\t\t\tconf[key] = {\n\t\t\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\t\t\t\ttype: 'add'\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t_this.setState(conf);\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context5.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee5, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x7, _x8) {\n\t\t\t\treturn _ref6.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.editmodal = function () {\n\t\t\tvar _ref7 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee6(key, title) {\n\t\t\t\tvar conf;\n\t\t\t\treturn _regenerator2.default.wrap(function _callee6$(_context6) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context6.prev = _context6.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tif (_this.state.selected.selectedKeys && _this.state.selected.selectedKeys.length) {\n\t\t\t\t\t\t\t\t\tconf = {};\n\n\t\t\t\t\t\t\t\t\tconf[key] = {\n\t\t\t\t\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\t\t\t\t\ttype: 'edit',\n\t\t\t\t\t\t\t\t\t\titem: _this.state.selected.selectedItems[0]\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t_this.setState(conf);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t_antd.message.warning('请选中表格中的某一记录！');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context6.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee6, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x9, _x10) {\n\t\t\t\treturn _ref7.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.handleOk = function () {\n\t\t\tvar _ref8 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee8(func, key, mess) {\n\t\t\t\tvar backFunc = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'search';\n\t\t\t\tvar param;\n\t\t\t\treturn _regenerator2.default.wrap(function _callee8$(_context8) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context8.prev = _context8.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tif (!(_this.state.selected.selectedKeys && _this.state.selected.selectedKeys.length)) {\n\t\t\t\t\t\t\t\t\t_context8.next = 8;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_context8.next = 3;\n\t\t\t\t\t\t\t\treturn _this.setState({ confirmLoading: true });\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tparam = {};\n\n\t\t\t\t\t\t\t\tparam[key] = _this.state.selected.selectedKeys[0];\n\t\t\t\t\t\t\t\tfunc(param).then(function () {\n\t\t\t\t\t\t\t\t\tvar _ref9 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee7(res) {\n\t\t\t\t\t\t\t\t\t\treturn _regenerator2.default.wrap(function _callee7$(_context7) {\n\t\t\t\t\t\t\t\t\t\t\twhile (1) {\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (_context7.prev = _context7.next) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_context7.next = 2;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn _this.setState({ visible: false, confirmLoading: false });\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!(res.code == 200)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_context7.next = 6;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_antd.message.success(mess + '\\u6210\\u529F');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_this[backFunc]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn _context7.abrupt('return');\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn _context7.stop();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}, _callee7, _this2);\n\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\treturn function (_x15) {\n\t\t\t\t\t\t\t\t\t\treturn _ref9.apply(this, arguments);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}());\n\t\t\t\t\t\t\t\t_context8.next = 9;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t_antd.message.warning('请选中表格中的某一记录！');\n\n\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context8.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee8, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x11, _x12, _x13) {\n\t\t\t\treturn _ref8.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.selectJudge = function (func) {\n\t\t\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\t\t\tvar selected = _this.state.selected;\n\t\t\tif (selected.selectedKeys && selected.selectedKeys.length) {\n\t\t\t\tif (!type) {\n\t\t\t\t\tfunc(selected.selectedKeys[0], selected.selectedItems[0]);\n\t\t\t\t} else {\n\t\t\t\t\tfunc(selected.selectedKeys, selected.selectedItems);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_antd.message.warning('请选中表格中的某一记录！');\n\t\t\t}\n\t\t}, _this.renderSearch = function (_) {\n\t\t\treturn null;\n\t\t}, _this.renderBtn = function (_) {\n\t\t\treturn null;\n\t\t}, _this.renderBottomBtn = function (_) {\n\t\t\treturn null;\n\t\t}, _this.rendermodal = function (_) {\n\t\t\treturn null;\n\t\t}, _this.renderTable = function (rowSelection) {\n\t\t\tvar pagination = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.pagination;\n\t\t\treturn _react2.default.createElement(_antd.Table, {\n\t\t\t\tsize: 'small',\n\t\t\t\tbordered: true,\n\t\t\t\tloading: _this.state.loading,\n\t\t\t\trowSelection: rowSelection,\n\t\t\t\tcolumns: _this.state.columns,\n\t\t\t\tpagination: pagination,\n\t\t\t\tlocale: { emptyText: '暂无数据' },\n\t\t\t\tdataSource: _this.state.tabledata });\n\t\t}, _this.render = function (_) {\n\t\t\tvar rowSelection = {\n\t\t\t\ttype: 'radio',\n\t\t\t\tselectedRowKeys: _this.state.selected.selectedKeys,\n\t\t\t\tonChange: _this.onselect\n\t\t\t};\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'mgrWrapper' },\n\t\t\t\t_this.renderSearch(),\n\t\t\t\t_this.renderBtn(),\n\t\t\t\t_this.renderTable(_this.state.selectedtable ? rowSelection : null),\n\t\t\t\t_this.renderBottomBtn(),\n\t\t\t\t_this.rendermodal()\n\t\t\t);\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\treturn Common;\n}(_react.Component);\n\nexports.default = Common;\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.setAuthority = exports.getAuthTree = exports.editRole = exports.addRole = exports.getRoleTree = exports.deleteRole = exports.getRoleList = undefined;\n\nvar _index = __webpack_require__(10);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getRoleList = exports.getRoleList = function getRoleList() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\treturn _index2.default.fetchPost('/role/list', params);\n};\n\nvar deleteRole = exports.deleteRole = function deleteRole() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\treturn _index2.default.fetchPost('/role/remove', params);\n};\n\nvar getRoleTree = exports.getRoleTree = function getRoleTree() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\treturn _index2.default.fetchPost('/role/roleTreeListByUserId', params);\n};\n\nvar addRole = exports.addRole = function addRole() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\treturn _index2.default.fetchPost('/role/add', params);\n};\n\nvar editRole = exports.editRole = function editRole() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\treturn _index2.default.fetchPost('/role/edit', params);\n};\n\nvar getAuthTree = exports.getAuthTree = function getAuthTree() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\treturn _index2.default.fetchGet('/menu/menuTreeListByRoleId/' + params.id);\n};\n\nvar setAuthority = exports.setAuthority = function setAuthority() {\n\tvar params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\treturn _index2.default.fetchPost('/role/setAuthority', params);\n};\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _regenerator = __webpack_require__(21);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _antd = __webpack_require__(5);\n\nvar _role = __webpack_require__(93);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TreeNode = _antd.Tree.TreeNode;\n\nvar RoleAuthority = function (_Component) {\n\t_inherits(RoleAuthority, _Component);\n\n\tfunction RoleAuthority() {\n\t\tvar _ref,\n\t\t    _this2 = this;\n\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, RoleAuthority);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = RoleAuthority.__proto__ || Object.getPrototypeOf(RoleAuthority)).call.apply(_ref, [this].concat(args))), _this), _this.componentWillReceiveProps = function () {\n\t\t\tvar _ref2 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee(nextprops) {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee$(_context) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tif (nextprops.config.item.id && _this.props.config.item.id != nextprops.config.item.id) {\n\t\t\t\t\t\t\t\t\t(0, _role.getAuthTree)({ id: nextprops.config.item.id }).then(function (res) {\n\t\t\t\t\t\t\t\t\t\tvar checkedKeys = [];\n\t\t\t\t\t\t\t\t\t\t(function (f) {\n\t\t\t\t\t\t\t\t\t\t\treturn f(f);\n\t\t\t\t\t\t\t\t\t\t})(function (f) {\n\t\t\t\t\t\t\t\t\t\t\treturn function (list) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn list.map(function (val) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (val.checked) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckedKeys.push(val.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (val.childList && val.childList.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn f(f)(val.childList);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t})(res.data);\n\t\t\t\t\t\t\t\t\t\t_this.setState({ treeData: res.data, checkedKeys: { checked: checkedKeys }, expandKeys: [] });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x) {\n\t\t\t\treturn _ref2.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.state = {\n\t\t\ttreeData: [],\n\t\t\tloading: false,\n\t\t\tcheckedKeys: { checked: [] },\n\t\t\tlock: false,\n\t\t\texpandKeys: []\n\t\t}, _this.handleOk = function () {\n\t\t\tvar _ref3 = _asyncToGenerator( /*#__PURE__*/_regenerator2.default.mark(function _callee2(_) {\n\t\t\t\treturn _regenerator2.default.wrap(function _callee2$(_context2) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tif (_this.state.lock) {\n\t\t\t\t\t\t\t\t\t_context2.next = 4;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_context2.next = 3;\n\t\t\t\t\t\t\t\treturn _this.setState({ lock: true });\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t(0, _role.setAuthority)({\n\t\t\t\t\t\t\t\t\troleId: _this.props.config.item.id,\n\t\t\t\t\t\t\t\t\tids: _this.state.checkedKeys.checked.join(',')\n\t\t\t\t\t\t\t\t}).then(function (res) {\n\t\t\t\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\t\t\t\t_antd.message.success('修改权限成功');\n\t\t\t\t\t\t\t\t\t\t_this.props.done();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t_this.setState({ lock: false });\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\t\treturn _context2.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee2, _this2);\n\t\t\t}));\n\n\t\t\treturn function (_x2) {\n\t\t\t\treturn _ref3.apply(this, arguments);\n\t\t\t};\n\t\t}(), _this.onCheck = function (checkedKeys) {\n\t\t\t_this.setState({ checkedKeys: checkedKeys });\n\t\t}, _this.onCancel = function (_) {\n\t\t\t_this.setState({ checkedKeys: { checked: [] } });\n\t\t\t_this.props.onCancel();\n\t\t}, _this.expand = function (expandKeys, e) {\n\t\t\t// let key = expandKeys[expandKeys.length - 1]\n\t\t\t// let keys = []\n\t\t\t// if (key) {\n\t\t\t// \tkeys = [key]\n\t\t\t// }\n\t\t\t_this.setState({ expandKeys: expandKeys });\n\t\t}, _this.render = function (_) {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t_antd.Modal,\n\t\t\t\t{ title: _this.props.config.title,\n\t\t\t\t\tstyle: { top: 50, marginBottom: 100 },\n\t\t\t\t\tonOk: _this.handleOk,\n\t\t\t\t\tvisible: _this.props.config.visible,\n\t\t\t\t\tconfirmLoading: _this.state.loading,\n\t\t\t\t\tonCancel: _this.onCancel,\n\t\t\t\t\tokText: '\\u4FDD\\u5B58',\n\t\t\t\t\tcancelText: '\\u53D6\\u6D88' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'authTitle' },\n\t\t\t\t\t_this.props.config.item.name\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_antd.Tree,\n\t\t\t\t\t{\n\t\t\t\t\t\tcheckable: true,\n\t\t\t\t\t\texpandedKeys: _this.state.expandKeys,\n\t\t\t\t\t\tonExpand: _this.expand,\n\t\t\t\t\t\tonCheck: _this.onCheck,\n\t\t\t\t\t\tcheckStrictly: true,\n\t\t\t\t\t\tcheckedKeys: _this.state.checkedKeys },\n\t\t\t\t\tfunction (f) {\n\t\t\t\t\t\treturn f(f);\n\t\t\t\t\t}(function (f) {\n\t\t\t\t\t\treturn function (list) {\n\t\t\t\t\t\t\treturn list.map(function (val) {\n\t\t\t\t\t\t\t\treturn val.childList && val.childList.length ? _react2.default.createElement(\n\t\t\t\t\t\t\t\t\tTreeNode,\n\t\t\t\t\t\t\t\t\t{ title: val.name, key: val.id },\n\t\t\t\t\t\t\t\t\tf(f)(val.childList)\n\t\t\t\t\t\t\t\t) : _react2.default.createElement(TreeNode, { title: val.name, key: val.id });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t})(_this.state.treeData)\n\t\t\t\t)\n\t\t\t);\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\treturn RoleAuthority;\n}(_react.Component);\n\nexports.default = RoleAuthority;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.c27e4e925ef7742dd349.js","import React, { Component } from 'react'\nimport { Modal, Input, Form, Button, TreeSelect, message, InputNumber } from 'antd'\nconst FormItem = Form.Item\nimport { connect } from 'react-redux'\nimport { addRole, editRole } from '/api/role'\nimport { handleTreeTop } from '/api/tools'\n\n\nclass Role extends Component{\n\n\tasync componentWillReceiveProps (nextprops) {\n\t\tif (nextprops.config != this.props.config && nextprops.config.visible) {\n\t\t\tif (nextprops.config.type != 'edit') {\n\t\t\t\tthis.props.form.resetFields()\n\t\t\t} else {\n\t\t\t\tlet mes = nextprops.config.item\n\t\t\t\tconsole.log(mes)\n\t\t\t\tthis.props.form.setFields({\n\t\t\t\t\tname: {value: mes.name},\n\t\t\t\t\ttips: {value: mes.tips},\n\t\t\t\t\tnum: {value: mes.num}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\tstate = {\n\t\trules: [{\n\t\t\tlabel: '角色名称',\n\t\t\tkey: 'name',\n\t\t\toption: {\n\t\t\t\trules: [{\n\t\t        \trequired: true, message: '请输入角色名称!',\n\t\t\t    }]\n\t\t\t},\n\t\t    render: _ => <Input style={{width: 200}}/>\n\t\t},{\n\t\t\tlabel: '排序',\n\t\t\tkey: 'num',\n\t\t\toption: { rules: [] },\n\t\t    render: _ => <InputNumber style={{width: 200}}/>\n\t\t},{\n\t\t\tlabel: '说明',\n\t\t\tkey: 'tips',\n\t\t\toption: { rules: []},\n\t\t  render: _ => <Input style={{width: 200}}/>\n\t\t}],\n\t\tloading: false,\n\t\tlock: false\n\t}\n\n\thandleFetch = params => {\n\t\tif (this.props.config.type == 'edit') {\n\t\t\tparams.id = this.props.config.item.id\n\t\t\treturn editRole(params)\n\t\t}\n\t\treturn addRole(params)\n\t}\n\n\thandleOk = async _ => {\n\t\tif (!this.state.lock) {\n\t\t\tawait this.setState({lock: true})\n\t\t\tthis.props.form.validateFieldsAndScroll(null, {}, (err, val) => {\n\t\t\t\tif (!err || !Object.getOwnPropertyNames(err).length) {\n\t\t\t\t\tlet params = Object.assign({}, val)\n\t\t\t\t\tif (!params.deptid) delete params.deptid\n\t\t\t\t\tif (!params.num) delete params.num\n\n\t\t\t\t\tthis.handleFetch(params)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tmessage.success('操作成功')\n\t\t\t\t\t\t\tthis.props.done()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({lock: false})\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({lock: false})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\trender = _ => {\n\t\tconst { getFieldDecorator } = this.props.form\n\t\tconst formItemLayout = {\n\t      \tlabelCol: {\n\t        \txs: { span: 24 },\n\t        \tsm: { span: 4 },\n\t      \t},\n\t      \twrapperCol: {\n\t\t        xs: { span: 24 },\n\t\t        sm: { span: 20 },\n\t      \t},\n\t    }\n\n\t\treturn <Modal title={this.props.config.title}\n\t\tonOk={this.handleOk}\n\t\tvisible={this.props.config.visible}\n\t\tconfirmLoading={this.state.loading}\n\t\tonCancel={this.props.onCancel}\n\t\tstyle={{top: 50, marginBottom: 100}}\n\t\tokText=\"提交\"\n\t\tcancelText=\"取消\">\n\t\t\t<Form>\n\t\t        {this.state.rules.map((val, index) => <FormItem \n\t\t        {...formItemLayout} \n\t\t        key={index}\n\t\t        label={val.label}>\n\t\t          \t{getFieldDecorator(val.key, val.option)(val.render())}\n\t\t        </FormItem>)}\n\t      \t</Form>\n\t\t</Modal>\n\t}\n}\n\nconst RoleForm = Form.create()(Role)\nexport default RoleForm\n\n\n// WEBPACK FOOTER //\n// ./src/components/role/roleEditForm.jsx","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Input, Button, Icon, Modal } from 'antd'\nimport { getRoleList, deleteRole } from '/api/role'\nimport { GET_ROLE_TREE } from '/redux/action'\nimport Common from '/page/common.jsx'\n\nimport RoleForm from '/components/role/roleEditForm.jsx'\nimport RoleAuthority from '/components/role/roleAuthority.jsx'\n\nconst ButtonGroup = Button.Group\n\n@connect(state => ({}), dispath => ({\n\tgetRoleTree(){dispath({type: GET_ROLE_TREE})}\n}))\nclass Role extends Common{\n\tasync componentWillMount () {\n\t\tthis.search()\n\t}\n\n\tstate = Object.assign({}, this.state, {\n\t\tsearch: Object.assign({}, this.state.pageconf),\n\t\tcolumns: [{\n\t\t\ttitle: '名称',\n\t\t\tdataIndex: 'name'\n\t\t}, {\n\t\t\ttitle: '排序',\n\t\t\tdataIndex: 'num'\n\t\t}, {\n\t\t\ttitle: '说明',\n\t\t\tdataIndex: 'tips'\n\t\t}],\n\t\teditModalConf: {visible: false, item: {}},\n\t\troleModal: {visible: false, item: {}},\n\t})\n\n\tsearch = async _ => {\n\t\tawait this.setState({loading: true, selected: {}})\n\t\tlet search = Object.assign({}, this.state.search)\n\t\tif (!search.roleName) delete search.roleName\n\t\treturn getRoleList(search)\n\t\t.then(res => {\n\t\t\tlet data\n\t\t\tdata = res.data.records.map(val => Object.assign({}, val, {key: val.id}))\n\t\t\tthis.setState({\n\t\t\t\ttabledata: data, \n\t\t\t\tloading: false,\n\t\t\t\tpagination: Object.assign({}, this.state.pagination, {\n\t\t\t\t\ttotal: res.data.total,\n\t\t\t\t\tcurrent: res.data.current\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}\n\n\tdeleteBack = async _ => {\n\t\tthis.search()\n\t\tthis.props.getRoleTree()\n\t}\n\n\tdelete = _ => {\n\t\tthis.handleOk(deleteRole, 'roleId', '删除', 'deleteBack')\n\t}\n\n\tdone = async key => {\n\t\tlet type = this.state.editModalConf.type\n\t\tlet config = {}\n\t\tconfig[key] = {visible: false, item: {}}\n\t\tthis.setState(config)\n\t\tif (type == 'add' && key == 'editModalConf') {\n\t\t\tthis.research()\n\t\t} else {\n\t\t\tawait this.setState({selected: {}})\n\t\t\tthis.search()\n\t\t}\n\t}\n\n\trenderSearch = _ => <div className=\"mgrSearchBar\">\n\t\t<Input \n\t\tvalue={this.state.search.roleName}\n\t\tsuffix={this.state.search.roleName ? <Icon \n\t\t\ttype=\"close-circle\" \n\t\t\tonClick={_ => this.changeSearch({roleName: ''})} /> : null}\n\t\tonChange={e => this.changeSearch({roleName: e.target.value})}\n\t\taddonBefore=\"角色名称\" />\n\t\t<Button \n\t\tonClick={this.search}\n\t\ttype=\"primary\" icon=\"search\">搜索</Button>\n\n\t<ButtonGroup>\n\t\t<Button \n\t\tonClick={_ => this.addmodal('editModalConf', '添加角色')}\n\t\ttype=\"primary\" icon=\"plus\">添加</Button>\n\t\t<Button \n\t\tonClick={_ => this.editmodal('editModalConf', '编辑角色')}\n\t\ttype=\"primary\" icon=\"edit\">修改</Button>\n\t\t<Button \n\t\tonClick={this.changemodel}\n\t\ttype=\"primary\" icon=\"close\">删除</Button>\n\t\t<Button \n\t\tonClick={_ => this.editmodal('roleModal', '权限配置')}\n\t\ttype=\"primary\" icon=\"usb\">权限配置</Button>\n\t\t</ButtonGroup>\n\t</div>\n\n\trendermodal = _ => <div>\n\t\t<Modal title=\"信息\"\n\t\t  visible={this.state.visible}\n\t\t  onOk={this.delete}\n\t\t  mask={false}\n\t\t  width={400}\n\t\t  onCancel={this.changemodel}\n\t\t  okText=\"确认\"\n\t\t  cancelText=\"取消\"\n\t\t>\n\t\t\t<p>是否删除？</p>\n\t\t</Modal>\n\t\t<RoleForm \n\t\tonCancel={_ => this.cancelform('editModalConf')}\n\t\tdone={_ => this.done('editModalConf')}\n\t\tconfig={this.state.editModalConf} />\n\t\t<RoleAuthority\n\t\tonCancel={_ => this.cancelform('roleModal')}\n\t\tdone={_ => this.done('roleModal')}\n\t\tconfig={this.state.roleModal} />\n\t</div>\n\n}\n\nexport default Role\n\n\n// WEBPACK FOOTER //\n// ./src/page/system/role.jsx","import React, { Component } from 'react'\nimport { Table, message } from 'antd'\nimport { momentFormat } from '/api/tools'\n\nclass Common extends Component{\n\tstate = {\n\t\tcolumns: [],\n\t\tselectedtable: true,\n\t\tselected: {},\n\t\tloading: true,\n\t\ttabledata: [],\n\t\tvisible: false,\n\t\tsearch: {},\n\t\tpageconf: {limit: 10, offset: 0},\n\t\tpagination: {\n\t\t\ttotal: 1,\n\t\t\tcurrent: 1,\n\t\t\tpageSize: 10,\n\t\t\tonChange: (page, size) => this.pageChange(page, size)\n\t\t}\n\t}\n\tpageChange = async (page, pageSize) => {\n\t\tawait this.setState({search: Object.assign({}, this.state.search, {offset: (page - 1) * pageSize})})\n\t\tthis.search()\n\t}\n\tonselect = (selectedKeys, selectedItems) => {\n\t\tthis.setState({selected: {\n\t\t\tselectedKeys,\n\t\t\tselectedItems\n\t\t}})\n\t}\n\torderdetail = async item => {\n\t\tawait this.setState({selected: {\n\t\t\tselectedKeys: [item.id],\n\t\t\tselectedItems: [item]\n\t\t}})\n\t\tthis.addpane(1)\n\t}\n\tsetselect = async (item, func) => {\n\t\tawait this.setState({selected: {\n\t\t\tselectedKeys: [item.id],\n\t\t\tselectedItems: [item]\n\t\t}})\n\t\tfunc()\n\t}\n\tchangeSearch = val => {\n\t\tlet search = Object.assign({}, this.state.search, val, this.state.pageconf)\n\t\tthis.setState({search})\n\t}\n\thandleTime = (search, key) => {\n\t\tif (!search[key]) {\n\t\t\tdelete search[key]\n\t\t} else {\n\t\t\tsearch[key] = momentFormat(search[key])\n\t\t}\n\t}\n\tresearch = async _ => {\n\t\tawait this.setState({search: Object.assign({}, this.state.pageconf), selected: {}})\n\t\tthis.search()\n\t}\n\tchangemodel = _ => {\n\t\tif (this.state.selected.selectedKeys && this.state.selected.selectedKeys.length) {\n\t\t\tthis.setState({visible: !this.state.visible})\n\t\t} else {\n\t\t\tmessage.warning('请选中表格中的某一记录！')\n\t\t}\n\t}\n\tcancelform = key => {\n\t\tlet config = {}\n\t\tconfig[key] = Object.assign({}, this.state[key], {visible: false, item: {}})\n\t\tthis.setState(config)\n\t}\n\taddmodal = async (key, title) => {\n\t\tlet conf = {}\n\t\tconf[key] = {\n\t\t\ttitle,\n\t\t\tvisible: true,\n\t\t\ttype: 'add'\n\t\t}\n\t\tthis.setState(conf)\n\t}\n\teditmodal = async (key, title) => {\n\t\tif (this.state.selected.selectedKeys && this.state.selected.selectedKeys.length) {\n\t\t\tlet conf = {}\n\t\t\tconf[key] = {\n\t\t\t\ttitle,\n\t\t\t\tvisible: true,\n\t\t\t\ttype: 'edit',\n\t\t\t\titem: this.state.selected.selectedItems[0]\n\t\t\t}\n\t\t\tthis.setState(conf)\n\t\t} else {\n\t\t\tmessage.warning('请选中表格中的某一记录！')\n\t\t}\n\t}\n\thandleOk = async (func, key, mess, backFunc = 'search') => {\n\t\tif (this.state.selected.selectedKeys && this.state.selected.selectedKeys.length) {\n\t\t\tawait this.setState({confirmLoading: true})\n\t\t\tlet param = {}\n\t\t\tparam[key] = this.state.selected.selectedKeys[0]\n\t\t\tfunc(param)\n\t\t\t.then(async res => {\n\t\t\t\tawait this.setState({visible: false, confirmLoading: false})\n\t\t\t\tif (res.code == 200) {\n\t\t\t\t\tmessage.success(`${mess}成功`)\n\t\t\t\t\tthis[backFunc]()\n\t\t\t\t\treturn\t\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tmessage.warning('请选中表格中的某一记录！')\n\t\t}\n\t}\n\n\tselectJudge = (func, type = false) => {\n\t\tlet selected = this.state.selected\n\t\tif (selected.selectedKeys && selected.selectedKeys.length) {\n\t\t\tif (!type) {\n\t\t\t\tfunc(selected.selectedKeys[0], selected.selectedItems[0])\n\t\t\t} else {\n\t\t\t\tfunc(selected.selectedKeys, selected.selectedItems)\n\t\t\t}\n\t\t} else {\n\t\t\tmessage.warning('请选中表格中的某一记录！')\n\t\t}\n\t}\n\n\trenderSearch = _ => null\n\trenderBtn = _ => null\n\trenderBottomBtn = _ => null\n\trendermodal = _ => null\n\trenderTable = (rowSelection, pagination = this.state.pagination) => <Table \n\t\tsize={'small'}\n\t\tbordered\n\t\tloading={this.state.loading}\n\t\trowSelection={rowSelection}\n\t\tcolumns={this.state.columns} \n\t\tpagination={pagination}\n\t\tlocale={{emptyText: '暂无数据'}}\n\t\tdataSource={this.state.tabledata}/>\n\trender = _ => {\n\t\tconst rowSelection = {\n\t\t\ttype: 'radio',\n\t\t\tselectedRowKeys: this.state.selected.selectedKeys,\n\t\t\tonChange: this.onselect\n\t\t}\n\t\treturn <div className=\"mgrWrapper\">\n\t\t\t{this.renderSearch()}\n\t\t\t{this.renderBtn()}\n\t\t\t{this.renderTable(this.state.selectedtable ? rowSelection : null)}\n\t\t\t{this.renderBottomBtn()}\n\t        {this.rendermodal()}\n\t\t</div>\n\t}\n}\n\nexport default Common\n\n\n// WEBPACK FOOTER //\n// ./src/page/common.jsx","import http from './index'\n\nexport const getRoleList = (params = {}) => {\n\treturn http.fetchPost(`/role/list`, params)\n}\n\nexport const deleteRole = (params = {}) => {\n\treturn http.fetchPost(`/role/remove`, params)\n}\n\nexport const getRoleTree = (params = {}) => {\n\treturn http.fetchPost(`/role/roleTreeListByUserId`, params)\n}\n\nexport const addRole = (params = {}) => {\n\treturn http.fetchPost(`/role/add`, params)\n}\n\nexport const editRole = (params = {}) => {\n\treturn http.fetchPost(`/role/edit`, params)\n}\n\nexport const getAuthTree = (params = {}) => {\n\treturn http.fetchGet(`/menu/menuTreeListByRoleId/${params.id}`)\n}\n\nexport const setAuthority = (params = {}) => {\n\treturn http.fetchPost(`/role/setAuthority`, params)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/role.js","import React, { Component } from 'react'\nimport { Modal, Tree, message } from 'antd'\nconst TreeNode = Tree.TreeNode\nimport { getAuthTree, setAuthority } from '/api/role'\n\nclass RoleAuthority extends Component{\n\tcomponentWillReceiveProps = async nextprops => {\n\t\tif (nextprops.config.item.id && this.props.config.item.id != nextprops.config.item.id) {\n\t\t\tgetAuthTree({id: nextprops.config.item.id})\n\t\t\t.then(res => {\n\t\t\t\tlet checkedKeys = [];\n\t\t\t\t(f => f(f))(f => list => list.map(val => {\n\t\t\t\t\tif (val.checked) {\n\t\t\t\t\t\tcheckedKeys.push(val.id)\n\t\t\t\t\t}\n\t\t\t\t\tif (val.childList && val.childList.length) {\n\t\t\t\t\t\treturn f(f)(val.childList)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}))(res.data)\n\t\t\t\tthis.setState({treeData: res.data, checkedKeys: {checked: checkedKeys}, expandKeys: []})\n\t\t\t})\n\t\t}\n\t}\n\tstate = {\n\t\ttreeData: [],\n\t\tloading: false,\n\t\tcheckedKeys: {checked: []},\n\t\tlock: false,\n\t\texpandKeys: []\n\t}\n\n\thandleOk = async _ => {\n\t\tif (!this.state.lock) {\n\t\t\tawait this.setState({lock: true})\n\t\t\tsetAuthority({\n\t\t\t\troleId: this.props.config.item.id,\n\t\t\t\tids: this.state.checkedKeys.checked.join(',')\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.code == 200) {\n\t\t\t\t\tmessage.success('修改权限成功')\n\t\t\t\t\tthis.props.done()\n\t\t\t\t}\n\t\t\t\tthis.setState({lock: false})\n\t\t\t})\n\t\t}\n\t}\n\n\tonCheck = checkedKeys => {\n\t\tthis.setState({checkedKeys})\n\t}\n\n\tonCancel = _ => {\n\t\tthis.setState({checkedKeys: {checked: []}})\n\t\tthis.props.onCancel()\n\t}\n\n\texpand = (expandKeys, e) => {\n\t\t// let key = expandKeys[expandKeys.length - 1]\n\t\t// let keys = []\n\t\t// if (key) {\n\t\t// \tkeys = [key]\n\t\t// }\n\t\tthis.setState({expandKeys})\n\t}\n\n\trender = _ => <Modal title={this.props.config.title}\n\tstyle={{top: 50, marginBottom: 100}}\n\tonOk={this.handleOk}\n\tvisible={this.props.config.visible}\n\tconfirmLoading={this.state.loading}\n\tonCancel={this.onCancel}\n\tokText=\"保存\"\n\tcancelText=\"取消\">\n\t\t<div className='authTitle'>{this.props.config.item.name}</div>\n\t\t<Tree\n\t\tcheckable\n\t\texpandedKeys={this.state.expandKeys}\n\t\tonExpand={this.expand}\n\t\tonCheck={this.onCheck}\n\t\tcheckStrictly\n\t\tcheckedKeys={this.state.checkedKeys} >\n\t\t\t{(f => f(f))(f => list => list.map(val => val.childList && val.childList.length ? (\n\t\t\t\t<TreeNode title={val.name} key={val.id} >\n\t\t\t\t\t{f(f)(val.childList)}\n\t\t\t\t</TreeNode>\n\t\t\t) : (\n\t\t\t\t<TreeNode title={val.name} key={val.id} />\n\t\t\t) ))(this.state.treeData)}\n\t\t</Tree>\n\t</Modal>\n}\n\nexport default RoleAuthority\n\n\n// WEBPACK FOOTER //\n// ./src/components/role/roleAuthority.jsx"],"sourceRoot":""}